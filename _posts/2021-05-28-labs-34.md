---
layout: post
title: An Agile Approach to Data Visualizations
subtitle: Using Plotly and FastAPI for Efficient Development
date: 2021-05-27 08:00
category: Reflections
author: Kevin Weatherwalks
tags: [Lambda School, Plotly, data science, human rights, asylum]
summary: 
---

# Introduction
For the final unit of my Lambda School journey, I worked on a large team of 20+ developers and data scientists for the nonprofit Human Rights First (HRF) in a month-long experience called Labs. HRF helps connect immigration attorneys with asylum seekers and provides valuable resources for those attorneys. Accordingly, HRF would like a web-based application that gives attorneys access to information about an immigration judge's past decisions and any factors that appear to bias those decisions. Lambda School and HRF have partnered to give students the opportunity to build and improve this web application. 
Our Labs team inherited a codebase to build upon the progress made by the previous cohorts.

**HRF LOGO**

**TRANSITIONAL PHRASE**, HRF would like to start demoing this application to a select group of immigration attorneys, who would be given access via invite-only. After meeting with my teammates, we decided that the best way to get feedback from this group is to set up a framework for rapidly building and demoing visualizations right in the web application.

*The catch:* the data scientists work mainly in Python and the web application uses Javascript. As a data science student who has spent the last five months mainly exercising my research skills, Labs was my first taste of working on a cross-functional team, so it was easy for me to feel sequestered away from the development side. How can we as  data scientists work together with the web developers to ensure that we can seamlessly contribute with development?

# Planning
After a full week of planning tasks and translating product-roadmap features to user stories, I worked closely with a fellow data scientist named Filipe and the back-end web developers to outline the flow of data. Our data science team did not have direct access to the database that stores the case information necessary to create visualizations.
This left us with two options:
1. assist the web-developers with creating the visualizations in the back-end, or
1. set up access to the database for data scientists.

We opted for option 2, and set up a data flow where the back-end sends case information to an endpoint in the data science API as a POST request. Then, the data scientists manipulate that data to create charts using Plotly. Finally, the information to recreate the chart in Plotly is returned to the back-end as JSON formatted data. The web developers then send this data to the front-end so the charts can be displayed on the website. This was all made possible by web developer Daniel Gamboa's excellent work as architect of this flow.

**DIAGRAM OF DATA FLOW**

# Implementation
Working closely with the associate data science leader, I pair programmed with Filipe to set up the endpoint in FastAPI to deliver a basic visualization, a stacked bar chart. Over the course of two days, we coordinated with the back-end team, and they successfully linked up our data with the front-end so that our visualization was appearing on the relevant page.


{% comment %}
- We want feedback from the stakeholder and users. We need a workflow for researching visualization ideas and seamlessly integrating them into the web application.
- We need to coordinate on the styling of the visualizations, and the web team has ownership over those choices.

We spent the first week planning 
After planning to jump
- Met with web team to discuss architecture for visualization flow.  
- Daniel created architecture diagrams that were clear and explained them very well.
- Worked with Plotly to set up the data flow. (link to Plotly docs)

### Stakeholder feedback
After creating an association matrix heatmap, I presented the visualization to the stakeholders to get feedback. I asked them, "is this type of chart useful as a whole?"
"Which parts of this visualization are useful?"
"Would it be better to have text information in place of visualization?"
A: Perhaps. If there is a summary saying something like "X feature shows a strong positive impact on the outcome"

A: How do the variables that I can control as a lawyer impact the outcome?
A: It might be more useful to see a multivariate approach.


What parts of this visualization are useful?  
Would text display this information better?  
Welton would like to see the direction of the "correlation" as well as the strength.

# How you went about problem-solving?
- Met with Filipe and web team to set up work flow for the visualizations. 
- Week two, we explored individual data viz and set up deployment of DS API
- Week two,

# The problem solving
- Data type issues arose. Needed to fix the workflow.


# The result


# Conclusion
I worked with the 

Link to Correlation Matrix Heatmap
Link to Choropleth
Link to forked repository
{% endcomment %}
<!-- ![Logistic Regression ROC](/assets/blogresources/wikiml/roc_log_test.svg) -->
<!-- <img src="/assets/blogresources/wikiml/roc_log_test.svg" width="500"> -->